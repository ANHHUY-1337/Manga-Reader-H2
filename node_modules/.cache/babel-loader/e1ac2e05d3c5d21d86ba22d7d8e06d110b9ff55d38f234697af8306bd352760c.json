{"ast":null,"code":"import{NavLink,useLocation}from\"react-router-dom\";import{useContext,useRef,useState}from\"react\";import Category from\"../components/Category\";import Context from\"../../state/Context\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function NavBarMobile(_ref){let{setIsShowNavBarMobile,category,handleKeyDownSearch}=_ref;const{setTheme}=useContext(Context);const{pathname}=useLocation();const[isShowCategory,setIsShowCategory]=useState(false);const[valueSearch,setValueSearch]=useState('');const containerRef=useRef();const modalRef=useRef();const handleCloseModal=()=>{if(modalRef.current&&containerRef.current){modalRef.current.classList.add('animate-slide-out');containerRef.current.classList.add('animate-fade-out');setTimeout(()=>{setIsShowNavBarMobile(false);},200);}};const handleWrapperClick=event=>{if(modalRef.current&&!modalRef.current.contains(event.target)){handleCloseModal();}};const handleSearch=(e,valueSearch)=>{handleKeyDownSearch(e,valueSearch);if(e.key==='Enter'){handleCloseModal();}};const handleSetTheme=()=>{setTheme(prevTheme=>prevTheme==='light'?'dark':'light');handleCloseModal();};return/*#__PURE__*/_jsx(\"div\",{ref:containerRef,onClick:handleWrapperClick,className:\"fixed inset-0 bg-[#0000004d] min-h-[100%] animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,className:\"relative w-[80%] bg-[#fff] dark:bg-[#2f2f2f] dark:text-[#fff rounded-r-[16px] h-full left-0 animate-slide-in p-[16px]\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between absolute top-0 left-0 right-0 dark:text-[#fff]\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSetTheme,className:\"cursor-pointer w-[60px] flex items-center justify-center h-[60px]\",children:/*#__PURE__*/_jsx(\"i\",{className:\"text-[30px] fa-solid fa-circle-half-stroke\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,className:\"text-[30px] w-[60px] flex items-center justify-center h-[60px]\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-xmark\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-[40px] flex items-center px-[8px] py-[4px] border-2 border-solid border-[#ccc] rounded-[8px] transition-all w-full focus-within:border-[#10b981] mt-[64px]\",children:[/*#__PURE__*/_jsx(\"input\",{value:valueSearch,onChange:e=>setValueSearch(e.target.value),onKeyDown:e=>handleSearch(e,valueSearch),className:\"outline-none w-full ml-[6px] bg-[#fff] dark:text-[#fff] bg-transparent\",placeholder:\"T\\xECm ki\\u1EBFm truy\\u1EC7n...\"}),/*#__PURE__*/_jsx(NavLink,{onClick:handleCloseModal,className:\"px-[8px] transition-all dark:text-[#fff] hover:text-[#10b981] \".concat(valueSearch!==''?'pointer-events-auto':'pointer-events-none'),to:\"/search/\".concat(valueSearch),children:/*#__PURE__*/_jsx(\"i\",{className:\"text-inherit fa-solid fa-magnifying-glass\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-[12px]\",children:[/*#__PURE__*/_jsx(\"li\",{onClick:handleCloseModal,children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",className:\"block text-lg hover:text-[#10b981] transition-all py-[8px] \".concat(pathname==='/'?'text-[#10b981] font-[900]':'text-[#000] dark:text-[#fff]'),children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"li\",{onClick:handleCloseModal,children:/*#__PURE__*/_jsx(NavLink,{to:\"/detail/danh-sach/truyen-moi\",className:\"block text-lg hover:text-[#10b981] transition-all py-[8px] \".concat(pathname==='/detail/danh-sach/truyen-moi'?'text-[#10b981] font-[900]':'text-[#000] dark:text-[#fff]'),children:\"Truy\\u1EC7n m\\u1EDBi nh\\u1EA5t\"})}),/*#__PURE__*/_jsx(\"li\",{onClick:handleCloseModal,children:/*#__PURE__*/_jsx(NavLink,{to:\"/archive\",className:\"block text-lg hover:text-[#10b981] transition-all py-[8px] \".concat(pathname==='/archive'?'text-[#10b981] font-[900]':'text-[#000] dark:text-[#fff]'),children:\"Kho l\\u01B0u tr\\u1EEF\"})}),/*#__PURE__*/_jsx(\"li\",{onClick:handleCloseModal,children:/*#__PURE__*/_jsx(NavLink,{to:\"/history\",className:\"block text-lg hover:text-[#10b981] transition-all py-[8px] \".concat(pathname==='/history'?'text-[#10b981] font-[900]':'text-[#000] dark:text-[#fff]'),children:\"L\\u1ECBch s\\u1EED \\u0111\\xE3 xem\"})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setIsShowCategory(!isShowCategory),className:\"flex items-center text-lg gap-[8px] py-[8px] dark:text-[#fff]\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Th\\u1EC3 lo\\u1EA1i\"}),!isShowCategory?/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-right\"}):/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-angle-down\"})]}),isShowCategory&&/*#__PURE__*/_jsx(Category,{data:category,onCloseModalMobile:handleCloseModal})]})]})]})});}export default NavBarMobile;","map":{"version":3,"names":["NavLink","useLocation","useContext","useRef","useState","Category","Context","jsx","_jsx","jsxs","_jsxs","NavBarMobile","_ref","setIsShowNavBarMobile","category","handleKeyDownSearch","setTheme","pathname","isShowCategory","setIsShowCategory","valueSearch","setValueSearch","containerRef","modalRef","handleCloseModal","current","classList","add","setTimeout","handleWrapperClick","event","contains","target","handleSearch","e","key","handleSetTheme","prevTheme","ref","onClick","className","children","value","onChange","onKeyDown","placeholder","concat","to","data","onCloseModalMobile"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/cncmanga/cncmanga/src/layout/DefaultLayout/NavBarMobile.js"],"sourcesContent":["import { NavLink, useLocation } from \"react-router-dom\";\r\nimport { useContext, useRef, useState } from \"react\";\r\n\r\nimport Category from \"../components/Category\";\r\nimport Context from \"../../state/Context\";\r\n\r\nfunction NavBarMobile({ setIsShowNavBarMobile, category, handleKeyDownSearch }) {\r\n    const { setTheme } = useContext(Context)\r\n    const { pathname } = useLocation()\r\n    const [isShowCategory, setIsShowCategory] = useState(false)\r\n    const [valueSearch, setValueSearch] = useState('')\r\n    const containerRef = useRef()\r\n    const modalRef = useRef()\r\n\r\n    const handleCloseModal = () => {\r\n        if ((modalRef.current && containerRef.current)) {\r\n            modalRef.current.classList.add('animate-slide-out')\r\n            containerRef.current.classList.add('animate-fade-out')\r\n            setTimeout(() => {\r\n                setIsShowNavBarMobile(false)\r\n            }, 200)\r\n        }\r\n    }\r\n\r\n    const handleWrapperClick = (event) => {\r\n        if (modalRef.current && !modalRef.current.contains(event.target)) {\r\n            handleCloseModal()\r\n        }\r\n    };\r\n\r\n    const handleSearch = (e, valueSearch) => {\r\n        handleKeyDownSearch(e, valueSearch)\r\n        if (e.key === 'Enter') {\r\n            handleCloseModal()\r\n        }\r\n    }\r\n\r\n    const handleSetTheme = () => {\r\n        setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light')\r\n        handleCloseModal()\r\n    }\r\n\r\n    return (\r\n        <div\r\n            ref={containerRef}\r\n            onClick={handleWrapperClick}\r\n            className=\"fixed inset-0 bg-[#0000004d] min-h-[100%] animate-fade-in\">\r\n            <div ref={modalRef} className=\"relative w-[80%] bg-[#fff] dark:bg-[#2f2f2f] dark:text-[#fff rounded-r-[16px] h-full left-0 animate-slide-in p-[16px]\">\r\n                <div className=\"flex items-center justify-between absolute top-0 left-0 right-0 dark:text-[#fff]\">\r\n                    <button\r\n                        onClick={handleSetTheme}\r\n                        className=\"cursor-pointer w-[60px] flex items-center justify-center h-[60px]\">\r\n                        <i className=\"text-[30px] fa-solid fa-circle-half-stroke\"></i>\r\n                    </button>\r\n                    <button\r\n                        onClick={handleCloseModal}\r\n                        className=\"text-[30px] w-[60px] flex items-center justify-center h-[60px]\">\r\n                        <i className=\"fa-solid fa-xmark\"></i>\r\n                    </button >\r\n                </div>\r\n                <div className=\"h-[40px] flex items-center px-[8px] py-[4px] border-2 border-solid border-[#ccc] rounded-[8px] transition-all w-full focus-within:border-[#10b981] mt-[64px]\">\r\n                    <input\r\n                        value={valueSearch}\r\n                        onChange={e => setValueSearch(e.target.value)}\r\n                        onKeyDown={(e) => handleSearch(e, valueSearch)}\r\n                        className=\"outline-none w-full ml-[6px] bg-[#fff] dark:text-[#fff] bg-transparent\"\r\n                        placeholder=\"Tìm kiếm truyện...\"\r\n                    />\r\n                    <NavLink onClick={handleCloseModal} className={`px-[8px] transition-all dark:text-[#fff] hover:text-[#10b981] ${valueSearch !== '' ? 'pointer-events-auto' : 'pointer-events-none'}`} to={`/search/${valueSearch}`}>\r\n                        <i className=\"text-inherit fa-solid fa-magnifying-glass\"></i>\r\n                    </NavLink>\r\n                </div>\r\n                <ul className=\"mt-[12px]\">\r\n                    <li onClick={handleCloseModal}>\r\n                        <NavLink to='/' className={`block text-lg hover:text-[#10b981] transition-all py-[8px] ${pathname === '/' ? 'text-[#10b981] font-[900]' : 'text-[#000] dark:text-[#fff]'}`}>Trang chủ</NavLink>\r\n                    </li>\r\n                    <li onClick={handleCloseModal}>\r\n                        <NavLink to='/detail/danh-sach/truyen-moi' className={`block text-lg hover:text-[#10b981] transition-all py-[8px] ${pathname === '/detail/danh-sach/truyen-moi' ? 'text-[#10b981] font-[900]' : 'text-[#000] dark:text-[#fff]'}`}>Truyện mới nhất</NavLink>\r\n                    </li>\r\n                    <li onClick={handleCloseModal}>\r\n                        <NavLink to='/archive' className={`block text-lg hover:text-[#10b981] transition-all py-[8px] ${pathname === '/archive' ? 'text-[#10b981] font-[900]' : 'text-[#000] dark:text-[#fff]'}`}>Kho lưu trữ</NavLink>\r\n                    </li>\r\n                    <li onClick={handleCloseModal}>\r\n                        <NavLink to='/history' className={`block text-lg hover:text-[#10b981] transition-all py-[8px] ${pathname === '/history' ? 'text-[#10b981] font-[900]' : 'text-[#000] dark:text-[#fff]'}`} >Lịch sử đã xem</NavLink>\r\n                    </li>\r\n                    <li>\r\n                        <div onClick={() => setIsShowCategory(!isShowCategory)} className=\"flex items-center text-lg gap-[8px] py-[8px] dark:text-[#fff]\">\r\n                            <span>Thể loại</span>\r\n                            {!isShowCategory ? (<i className=\"fa-solid fa-angle-right\"></i>) : (\r\n                                <i className=\"fa-solid fa-angle-down\"></i>\r\n                            )}\r\n                        </div>\r\n                        {isShowCategory &&\r\n                            <Category\r\n                                data={category}\r\n                                onCloseModalMobile={handleCloseModal}\r\n                            />}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavBarMobile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}