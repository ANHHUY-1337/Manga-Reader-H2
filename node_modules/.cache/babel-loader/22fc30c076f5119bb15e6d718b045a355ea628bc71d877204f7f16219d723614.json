{"ast":null,"code":"import{useState,useEffect}from'react';import toast from'react-hot-toast';import{useNavigate}from'react-router-dom';function useFetch(url){const navigate=useNavigate();const[data,setData]=useState(null);const handleFetchToError=()=>{navigate('/notfound');toast.error('Đã xảy ra lỗi khi lấy dữ liệu!');};useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(url);if(!response.ok){throw new Error('Network response was not ok');}const data=await response.json();if((data===null||data===void 0?void 0:data.status)==='error'){handleFetchToError();return;}setData(data);}catch(error){console.error(error);handleFetchToError();}};fetchData();},[url]);return[data];}export default useFetch;","map":{"version":3,"names":["useState","useEffect","toast","useNavigate","useFetch","url","navigate","data","setData","handleFetchToError","error","fetchData","response","fetch","ok","Error","json","status","console"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/cncmanga/cncmanga/src/hooks/UseFetch.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport toast from 'react-hot-toast'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nfunction useFetch(url) {\r\n    const navigate = useNavigate()\r\n    const [data, setData] = useState(null)\r\n\r\n    const handleFetchToError = () => {\r\n        navigate('/notfound')\r\n        toast.error('Đã xảy ra lỗi khi lấy dữ liệu!')\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const response = await fetch(url)\r\n                if (!response.ok) {\r\n                    throw new Error('Network response was not ok')\r\n                }\r\n                const data = await response.json()\r\n                if (data?.status === 'error') {\r\n                    handleFetchToError()\r\n                    return\r\n                }\r\n                setData(data)\r\n            } catch (error) {\r\n                console.error(error)\r\n                handleFetchToError()\r\n            }\r\n        }\r\n        fetchData()\r\n    }, [url])\r\n    return [data]\r\n}\r\n\r\nexport default useFetch\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CACnC,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,QAAS,CAAAC,QAAQA,CAACC,GAAG,CAAE,CACnB,KAAM,CAAAC,QAAQ,CAAGH,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACI,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAEtC,KAAM,CAAAS,kBAAkB,CAAGA,CAAA,GAAM,CAC7BH,QAAQ,CAAC,WAAW,CAAC,CACrBJ,KAAK,CAACQ,KAAK,CAAC,gCAAgC,CAAC,CACjD,CAAC,CAEDT,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAU,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACR,GAAG,CAAC,CACjC,GAAI,CAACO,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAClD,CACA,KAAM,CAAAR,IAAI,CAAG,KAAM,CAAAK,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAI,CAAAT,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEU,MAAM,IAAK,OAAO,CAAE,CAC1BR,kBAAkB,CAAC,CAAC,CACpB,OACJ,CACAD,OAAO,CAACD,IAAI,CAAC,CACjB,CAAE,MAAOG,KAAK,CAAE,CACZQ,OAAO,CAACR,KAAK,CAACA,KAAK,CAAC,CACpBD,kBAAkB,CAAC,CAAC,CACxB,CACJ,CAAC,CACDE,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACN,GAAG,CAAC,CAAC,CACT,MAAO,CAACE,IAAI,CAAC,CACjB,CAEA,cAAe,CAAAH,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}