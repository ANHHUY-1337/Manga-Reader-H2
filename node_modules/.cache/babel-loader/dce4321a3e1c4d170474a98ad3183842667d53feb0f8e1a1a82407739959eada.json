{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hoala\\\\OneDrive\\\\Desktop\\\\2025\\\\cncmanga\\\\cncmanga\\\\src\\\\pages\\\\Archive.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useContext, Fragment } from \"react\";\nimport toast from \"react-hot-toast\";\nimport Context from \"../state/Context\";\nimport storage, { handleSetActivity } from '../utils';\nimport Comic from \"../layout/components/Comic\";\nimport DiaLog from \"../layout/components/Dialog\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Archive() {\n  _s();\n  const {\n    setIsOpenDiaLog,\n    isOpenDiaLog,\n    setQuantityComicArchive,\n    user\n  } = useContext(Context);\n  const [comics, setComics] = useState([]);\n  useEffect(() => {\n    const comicStorage = storage.get('comic-storage', []);\n    setComics(comicStorage[user === null || user === void 0 ? void 0 : user.email] || []);\n  }, [user]);\n  const handleDeleteArchive = () => {\n    const comicStorage = storage.get('comic-storage', {});\n    comicStorage[user === null || user === void 0 ? void 0 : user.email] = [];\n    setComics([]);\n    setQuantityComicArchive(0);\n    storage.set('comic-storage', comicStorage);\n    toast.success('Xoá tất cả thành công!');\n    handleSetActivity(user, [], 'archive');\n  };\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-[24px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"mr-[8px] fa-regular fa-bookmark\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this), comics.length > 0 ? `Kho lưu trữ (${comics.length})` : 'Kho lưu trữ trống!']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), comics.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"py-[4px] px-[12px] font-[600] mobile:px-[8px] rounded-[8px] block text-base transition-all hover:scale-[1.05] bg-[#d90429] text-[#fff]\",\n        onClick: () => setIsOpenDiaLog(true),\n        children: \"Xo\\xE1 t\\u1EA5t c\\u1EA3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex mx-[-8px] flex-wrap gap-y-[24px]\",\n      children: comics.map((comic, index) => /*#__PURE__*/_jsxDEV(Comic, {\n        data: comic\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), isOpenDiaLog && /*#__PURE__*/_jsxDEV(DiaLog, {\n      onDeleteArchive: handleDeleteArchive,\n      text: \"T\\u1EA5t c\\u1EA3 truy\\u1EC7n trong kho l\\u01B0u tr\\u1EEF s\\u1EBD b\\u1ECB xo\\xE1 v\\u0129nh vi\\u1EC5n?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(Archive, \"6nAcvqpR5c5+ClrIGFFMvJYZKwE=\");\n_c = Archive;\nexport default Archive;\nvar _c;\n$RefreshReg$(_c, \"Archive\");","map":{"version":3,"names":["useState","useEffect","useContext","Fragment","toast","Context","storage","handleSetActivity","Comic","DiaLog","jsxDEV","_jsxDEV","Archive","_s","setIsOpenDiaLog","isOpenDiaLog","setQuantityComicArchive","user","comics","setComics","comicStorage","get","email","handleDeleteArchive","set","success","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","map","comic","index","data","onDeleteArchive","text","_c","$RefreshReg$"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/cncmanga/cncmanga/src/pages/Archive.js"],"sourcesContent":["import { useState, useEffect, useContext, Fragment } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\n\r\nimport Context from \"../state/Context\";\r\nimport storage, { handleSetActivity } from '../utils'\r\nimport Comic from \"../layout/components/Comic\";\r\nimport DiaLog from \"../layout/components/Dialog\";\r\n\r\nfunction Archive() {\r\n    const {\r\n        setIsOpenDiaLog,\r\n        isOpenDiaLog,\r\n        setQuantityComicArchive,\r\n        user } = useContext(Context)\r\n    const [comics, setComics] = useState([])\r\n\r\n    useEffect(() => {\r\n        const comicStorage = storage.get('comic-storage', [])\r\n        setComics(comicStorage[user?.email] || [])\r\n    }, [user])\r\n\r\n    const handleDeleteArchive = () => {\r\n        const comicStorage = storage.get('comic-storage', {})\r\n        comicStorage[user?.email] = []\r\n        setComics([])\r\n        setQuantityComicArchive(0)\r\n        storage.set('comic-storage', comicStorage)\r\n        toast.success('Xoá tất cả thành công!')\r\n        handleSetActivity(user, [], 'archive')\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className='flex items-center justify-between mb-[24px]'>\r\n                <h4 className=\"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\">\r\n                    <i className=\"mr-[8px] fa-regular fa-bookmark\"></i>\r\n                    {comics.length > 0 ?\r\n                        `Kho lưu trữ (${comics.length})` :\r\n                        'Kho lưu trữ trống!'}\r\n                </h4>\r\n                {comics.length > 0 &&\r\n                    <button\r\n                        className='py-[4px] px-[12px] font-[600] mobile:px-[8px] rounded-[8px] block text-base transition-all hover:scale-[1.05] bg-[#d90429] text-[#fff]'\r\n                        onClick={() => setIsOpenDiaLog(true)}>\r\n                        Xoá tất cả\r\n                    </button>\r\n                }\r\n            </div>\r\n            <div className='flex mx-[-8px] flex-wrap gap-y-[24px]'>\r\n                {comics.map((comic, index) => (\r\n                    <Comic key={index} data={comic} />\r\n                ))}\r\n            </div>\r\n            {isOpenDiaLog &&\r\n                <DiaLog\r\n                    onDeleteArchive={handleDeleteArchive}\r\n                    text='Tất cả truyện trong kho lưu trữ sẽ bị xoá vĩnh viễn?'\r\n                />\r\n            }\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Archive;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}