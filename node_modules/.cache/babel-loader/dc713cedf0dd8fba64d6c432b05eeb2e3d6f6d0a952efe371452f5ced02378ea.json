{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hoala\\\\OneDrive\\\\Desktop\\\\2025\\\\mangareaderh2\\\\Manga-Reader-H2\\\\src\\\\state\\\\Provider.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport Context from \"./Context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Provider({\n  children\n}) {\n  _s();\n  const [theme, setTheme] = useState(() => {\n    return localStorage.getItem('theme') || 'light';\n  });\n  const [quantityComicArchive, setQuantityComicArchive] = useState(0);\n  const [quantityComicHistory, setQuantityComicHistory] = useState(0);\n  const [width, setWidth] = useState(window.innerWidth);\n  // Add user state for authentication\n  const [user, setUser] = useState(() => {\n    // Default user for demo purposes\n    return {\n      email: \"user@example.com\",\n      name: \"Demo User\"\n    };\n  });\n  useEffect(() => {\n    const handleResize = () => setWidth(window.innerWidth);\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  useEffect(() => {\n    localStorage.setItem('theme', theme);\n    document.documentElement.classList.remove('light', 'dark');\n    theme === 'light' ? document.documentElement.classList.toggle('light') : document.documentElement.classList.toggle('dark');\n  }, [theme]);\n\n  // Initialize comic counts from localStorage\n  useEffect(() => {\n    if (user !== null && user !== void 0 && user.email) {\n      const comicStorage = JSON.parse(localStorage.getItem('comic-storage')) || {};\n      const historyStorage = JSON.parse(localStorage.getItem('history-storage')) || {};\n      const userComics = comicStorage[user.email] || [];\n      const userHistory = historyStorage[user.email] || {};\n      setQuantityComicArchive(userComics.length);\n      setQuantityComicHistory(Object.keys(userHistory).length);\n    }\n  }, [user]);\n  const value = {\n    theme,\n    setTheme,\n    quantityComicArchive,\n    setQuantityComicArchive,\n    quantityComicHistory,\n    setQuantityComicHistory,\n    width,\n    user,\n    setUser\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n}\n_s(Provider, \"fnp1iFKe03MTMpa7VfoETu7Mfiw=\");\n_c = Provider;\nexport default Provider;\nvar _c;\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["useEffect","useState","Context","jsxDEV","_jsxDEV","Provider","children","_s","theme","setTheme","localStorage","getItem","quantityComicArchive","setQuantityComicArchive","quantityComicHistory","setQuantityComicHistory","width","setWidth","window","innerWidth","user","setUser","email","name","handleResize","addEventListener","removeEventListener","setItem","document","documentElement","classList","remove","toggle","comicStorage","JSON","parse","historyStorage","userComics","userHistory","length","Object","keys","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/mangareaderh2/Manga-Reader-H2/src/state/Provider.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Context from \"./Context\";\r\n\r\nfunction Provider({ children }) {\r\n    const [theme, setTheme] = useState(() => {\r\n        return localStorage.getItem('theme') || 'light'\r\n    })\r\n    \r\n    const [quantityComicArchive, setQuantityComicArchive] = useState(0)\r\n    const [quantityComicHistory, setQuantityComicHistory] = useState(0)\r\n    const [width, setWidth] = useState(window.innerWidth)\r\n    // Add user state for authentication\r\n    const [user, setUser] = useState(() => {\r\n        // Default user for demo purposes\r\n        return { email: \"user@example.com\", name: \"Demo User\" }\r\n    })\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => setWidth(window.innerWidth)\r\n        window.addEventListener('resize', handleResize)\r\n        return () => window.removeEventListener('resize', handleResize)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        localStorage.setItem('theme', theme)\r\n        document.documentElement.classList.remove('light', 'dark')\r\n        theme === 'light' ?\r\n            document.documentElement.classList.toggle('light') :\r\n            document.documentElement.classList.toggle('dark')\r\n    }, [theme])\r\n\r\n    // Initialize comic counts from localStorage\r\n    useEffect(() => {\r\n        if (user?.email) {\r\n            const comicStorage = JSON.parse(localStorage.getItem('comic-storage')) || {}\r\n            const historyStorage = JSON.parse(localStorage.getItem('history-storage')) || {}\r\n            \r\n            const userComics = comicStorage[user.email] || []\r\n            const userHistory = historyStorage[user.email] || {}\r\n            \r\n            setQuantityComicArchive(userComics.length)\r\n            setQuantityComicHistory(Object.keys(userHistory).length)\r\n        }\r\n    }, [user])\r\n\r\n    const value = {\r\n        theme,\r\n        setTheme,\r\n        quantityComicArchive,\r\n        setQuantityComicArchive,\r\n        quantityComicHistory,\r\n        setQuantityComicHistory,\r\n        width,\r\n        user,\r\n        setUser\r\n    }\r\n\r\n    return (\r\n        <Context.Provider value={value}>\r\n            {children}\r\n        </Context.Provider>\r\n    );\r\n}\r\n\r\nexport default Provider;"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,QAAQA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC5B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,MAAM;IACrC,OAAOS,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,OAAO;EACnD,CAAC,CAAC;EAEF,MAAM,CAACC,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAACa,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EACnE,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAACiB,MAAM,CAACC,UAAU,CAAC;EACrD;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,MAAM;IACnC;IACA,OAAO;MAAEqB,KAAK,EAAE,kBAAkB;MAAEC,IAAI,EAAE;IAAY,CAAC;EAC3D,CAAC,CAAC;EAEFvB,SAAS,CAAC,MAAM;IACZ,MAAMwB,YAAY,GAAGA,CAAA,KAAMP,QAAQ,CAACC,MAAM,CAACC,UAAU,CAAC;IACtDD,MAAM,CAACO,gBAAgB,CAAC,QAAQ,EAAED,YAAY,CAAC;IAC/C,OAAO,MAAMN,MAAM,CAACQ,mBAAmB,CAAC,QAAQ,EAAEF,YAAY,CAAC;EACnE,CAAC,EAAE,EAAE,CAAC;EAENxB,SAAS,CAAC,MAAM;IACZU,YAAY,CAACiB,OAAO,CAAC,OAAO,EAAEnB,KAAK,CAAC;IACpCoB,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC;IAC1DvB,KAAK,KAAK,OAAO,GACboB,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,OAAO,CAAC,GAClDJ,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;EACzD,CAAC,EAAE,CAACxB,KAAK,CAAC,CAAC;;EAEX;EACAR,SAAS,CAAC,MAAM;IACZ,IAAIoB,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEE,KAAK,EAAE;MACb,MAAMW,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACzB,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC;MAC5E,MAAMyB,cAAc,GAAGF,IAAI,CAACC,KAAK,CAACzB,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAAC,CAAC;MAEhF,MAAM0B,UAAU,GAAGJ,YAAY,CAACb,IAAI,CAACE,KAAK,CAAC,IAAI,EAAE;MACjD,MAAMgB,WAAW,GAAGF,cAAc,CAAChB,IAAI,CAACE,KAAK,CAAC,IAAI,CAAC,CAAC;MAEpDT,uBAAuB,CAACwB,UAAU,CAACE,MAAM,CAAC;MAC1CxB,uBAAuB,CAACyB,MAAM,CAACC,IAAI,CAACH,WAAW,CAAC,CAACC,MAAM,CAAC;IAC5D;EACJ,CAAC,EAAE,CAACnB,IAAI,CAAC,CAAC;EAEV,MAAMsB,KAAK,GAAG;IACVlC,KAAK;IACLC,QAAQ;IACRG,oBAAoB;IACpBC,uBAAuB;IACvBC,oBAAoB;IACpBC,uBAAuB;IACvBC,KAAK;IACLI,IAAI;IACJC;EACJ,CAAC;EAED,oBACIjB,OAAA,CAACF,OAAO,CAACG,QAAQ;IAACqC,KAAK,EAAEA,KAAM;IAAApC,QAAA,EAC1BA;EAAQ;IAAAqC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACK,CAAC;AAE3B;AAACvC,EAAA,CA3DQF,QAAQ;AAAA0C,EAAA,GAAR1C,QAAQ;AA6DjB,eAAeA,QAAQ;AAAC,IAAA0C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}