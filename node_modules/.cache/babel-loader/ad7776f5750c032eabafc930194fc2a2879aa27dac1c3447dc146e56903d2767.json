{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hoala\\\\OneDrive\\\\Desktop\\\\2025\\\\v4\\\\Manga-Reader-H2\\\\src\\\\pages\\\\Search.js\",\n  _s = $RefreshSig$();\nimport { useParams } from \"react-router-dom\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport useFetch from \"../hooks/UseFetch\";\nimport Comic from \"../layout/components/Comic\";\nimport { search } from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  const {\n    query\n  } = useParams();\n  const [data] = useFetch(`${search}?q=${encodeURIComponent(query)}`);\n  const [searchResults, setSearchResults] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (data) {\n      var _data$data;\n      // Process the search results to ensure they have all required fields\n      const processedResults = ((data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.items) || []).map(item => {\n        // Ensure the item has all required properties that Comic component expects\n        return {\n          ...item,\n          slug: item.slug || '',\n          name: item.name || 'Không có tên',\n          thumb_url: item.thumb_url || ''\n          // Add any other defaults as needed\n        };\n      });\n      setSearchResults(processedResults);\n      setLoading(false);\n    }\n  }, [data]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-[32px]\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-[24px] mobile:p-[8px] text-[#10b981] dark:text-[#fff] p-[8px] rounded-[8px] border-2 border-solid border-[#10b981] dark:border-[#636363] bg-[rgba(16,185,129,0.15)] dark:bg-[rgba(204,204,204,0.2)]\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"lg:text-2xl font-[900] mobile:text-lg mr-[12px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"mr-[8px] fa-solid fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this), \"K\\u1EBFt qu\\u1EA3 t\\xECm ki\\u1EBFm: \", query]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\",\n        children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this) : searchResults.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex mx-[-8px] flex-wrap gap-y-[24px]\",\n        children: searchResults.map((comic, index) => /*#__PURE__*/_jsxDEV(Comic, {\n          data: comic\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\",\n          children: [\"Kh\\xF4ng t\\xECm th\\u1EA5y k\\u1EBFt qu\\u1EA3 n\\xE0o cho \\\"\", query, \"\\\"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 dark:text-[#fff]\",\n          children: \"H\\xE3y th\\u1EED t\\xECm ki\\u1EBFm v\\u1EDBi t\\u1EEB kh\\xF3a kh\\xE1c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"XIk82HNu5qP46GztuZ0a+aSVtoE=\", false, function () {\n  return [useParams, useFetch];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["useParams","Fragment","useEffect","useState","useFetch","Comic","search","jsxDEV","_jsxDEV","Search","_s","query","data","encodeURIComponent","searchResults","setSearchResults","loading","setLoading","_data$data","processedResults","items","map","item","slug","name","thumb_url","children","className","fileName","_jsxFileName","lineNumber","columnNumber","length","comic","index","_c","$RefreshReg$"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/v4/Manga-Reader-H2/src/pages/Search.js"],"sourcesContent":["import { useParams } from \"react-router-dom\";\r\nimport { Fragment, useEffect, useState } from \"react\";\r\nimport useFetch from \"../hooks/UseFetch\";\r\nimport Comic from \"../layout/components/Comic\";\r\nimport { search } from \"../api\";\r\n\r\nfunction Search() {\r\n    const { query } = useParams();\r\n    const [data] = useFetch(`${search}?q=${encodeURIComponent(query)}`);\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            // Process the search results to ensure they have all required fields\r\n            const processedResults = (data?.data?.items || []).map(item => {\r\n                // Ensure the item has all required properties that Comic component expects\r\n                return {\r\n                    ...item,\r\n                    slug: item.slug || '',\r\n                    name: item.name || 'Không có tên',\r\n                    thumb_url: item.thumb_url || '',\r\n                    // Add any other defaults as needed\r\n                };\r\n            });\r\n            \r\n            setSearchResults(processedResults);\r\n            setLoading(false);\r\n        }\r\n    }, [data]);\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"mt-[32px]\">\r\n                <div className=\"flex justify-between items-center mb-[24px] mobile:p-[8px] text-[#10b981] dark:text-[#fff] p-[8px] rounded-[8px] border-2 border-solid border-[#10b981] dark:border-[#636363] bg-[rgba(16,185,129,0.15)] dark:bg-[rgba(204,204,204,0.2)]\">\r\n                    <h4 className=\"lg:text-2xl font-[900] mobile:text-lg mr-[12px]\">\r\n                        <i className=\"mr-[8px] fa-solid fa-search\"></i>\r\n                        Kết quả tìm kiếm: {query}\r\n                    </h4>\r\n                </div>\r\n                \r\n                {loading ? (\r\n                    <h4 className=\"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\">Đang tải dữ liệu...</h4>\r\n                ) : searchResults.length > 0 ? (\r\n                    <div className=\"flex mx-[-8px] flex-wrap gap-y-[24px]\">\r\n                        {searchResults.map((comic, index) => (\r\n                            <Comic key={index} data={comic} />\r\n                        ))}\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"text-center py-8\">\r\n                        <h4 className=\"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\">\r\n                            Không tìm thấy kết quả nào cho \"{query}\"\r\n                        </h4>\r\n                        <p className=\"mt-4 dark:text-[#fff]\">\r\n                            Hãy thử tìm kiếm với từ khóa khác\r\n                        </p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Search; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}