{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hoala\\\\OneDrive\\\\Desktop\\\\2025\\\\cncmanga\\\\cncmanga\\\\src\\\\pages\\\\Detail.js\",\n  _s = $RefreshSig$();\nimport { Fragment, useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { detail } from '../api';\nimport useFetch from '../hooks/UseFetch';\nimport { scrollToTop } from '../utils';\nimport Context from '../state/Context';\nimport Comic from '../layout/components/Comic';\nimport Pagination from '../layout/components/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Detail() {\n  _s();\n  var _data$data4, _data$data4$breadCrum, _data$data4$breadCrum2, _data$data5, _data$data5$params, _data$data5$params$pa;\n  const {\n    width\n  } = useContext(Context);\n  const params = useParams();\n  const [currentPage, setCurrentPage] = useState(1);\n  const [data] = useFetch(`${detail}/${params.describe}/${params.slug}?page=${currentPage}`);\n  const [comics, setComics] = useState([]);\n  const [totalPage, setTotalPage] = useState(0);\n  useEffect(() => {\n    if (data) {\n      var _data$data, _data$data$params, _data$data$params$pag, _data$data2, _data$data2$params, _data$data2$params$pa, _data$data3;\n      const totalItems = data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$params = _data$data.params) === null || _data$data$params === void 0 ? void 0 : (_data$data$params$pag = _data$data$params.pagination) === null || _data$data$params$pag === void 0 ? void 0 : _data$data$params$pag.totalItems;\n      const totalItemsPerPage = data === null || data === void 0 ? void 0 : (_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : (_data$data2$params = _data$data2.params) === null || _data$data2$params === void 0 ? void 0 : (_data$data2$params$pa = _data$data2$params.pagination) === null || _data$data2$params$pa === void 0 ? void 0 : _data$data2$params$pa.totalItemsPerPage;\n      setComics((data === null || data === void 0 ? void 0 : (_data$data3 = data.data) === null || _data$data3 === void 0 ? void 0 : _data$data3.items) || []);\n      totalItems > totalItemsPerPage ? setTotalPage(Math.round(totalItems / totalItemsPerPage)) : setTotalPage(1);\n    }\n  }, [data]);\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [params.slug, params.describe]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [!data && /*#__PURE__*/_jsxDEV(\"h4\", {\n      className: \"lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]\",\n      children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }, this), (data === null || data === void 0 ? void 0 : data.status) === 'success' && /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"mb-[32px] text-center lg:text-2xl mobile:text-xl font-[600] text-[#10b981] dark:text-[#fff] p-[8px] rounded-[8px] border-2 border-solid border-[#10b981] dark:border-[#636363] bg-[rgba(16,185,129,0.15)] dark:bg-[rgba(204,204,204,0.2)]\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"mr-[8px] fa-solid fa-book-open\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this), data === null || data === void 0 ? void 0 : (_data$data4 = data.data) === null || _data$data4 === void 0 ? void 0 : (_data$data4$breadCrum = _data$data4.breadCrumb) === null || _data$data4$breadCrum === void 0 ? void 0 : (_data$data4$breadCrum2 = _data$data4$breadCrum[0]) === null || _data$data4$breadCrum2 === void 0 ? void 0 : _data$data4$breadCrum2.name, \" (\", data === null || data === void 0 ? void 0 : (_data$data5 = data.data) === null || _data$data5 === void 0 ? void 0 : (_data$data5$params = _data$data5.params) === null || _data$data5$params === void 0 ? void 0 : (_data$data5$params$pa = _data$data5$params.pagination) === null || _data$data5$params$pa === void 0 ? void 0 : _data$data5$params$pa.totalItems, \" truy\\u1EC7n)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex mx-[-8px] flex-wrap gap-y-[24px]\",\n        children: comics.map((comic, index) => /*#__PURE__*/_jsxDEV(Comic, {\n          data: comic\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        currentPage: currentPage,\n        totalPage: totalPage,\n        itemsPerPage: width > 786 ? 10 : 3,\n        setCurrentPage: setCurrentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n_s(Detail, \"SRhJdCDnKQhBDN1pxGcj8RUMJBg=\", false, function () {\n  return [useParams, useFetch];\n});\n_c = Detail;\nexport default Detail;\nvar _c;\n$RefreshReg$(_c, \"Detail\");","map":{"version":3,"names":["Fragment","useContext","useEffect","useState","useParams","detail","useFetch","scrollToTop","Context","Comic","Pagination","jsxDEV","_jsxDEV","Detail","_s","_data$data4","_data$data4$breadCrum","_data$data4$breadCrum2","_data$data5","_data$data5$params","_data$data5$params$pa","width","params","currentPage","setCurrentPage","data","describe","slug","comics","setComics","totalPage","setTotalPage","_data$data","_data$data$params","_data$data$params$pag","_data$data2","_data$data2$params","_data$data2$params$pa","_data$data3","totalItems","pagination","totalItemsPerPage","items","Math","round","children","className","fileName","_jsxFileName","lineNumber","columnNumber","status","breadCrumb","name","map","comic","index","itemsPerPage","_c","$RefreshReg$"],"sources":["C:/Users/hoala/OneDrive/Desktop/2025/cncmanga/cncmanga/src/pages/Detail.js"],"sourcesContent":["import { Fragment, useContext, useEffect, useState } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\n\r\nimport { detail } from '../api';\r\nimport useFetch from '../hooks/UseFetch';\r\nimport { scrollToTop } from '../utils';\r\nimport Context from '../state/Context';\r\nimport Comic from '../layout/components/Comic';\r\nimport Pagination from '../layout/components/Pagination';\r\n\r\nfunction Detail() {\r\n    const { width } = useContext(Context)\r\n    const params = useParams()\r\n    const [currentPage, setCurrentPage] = useState(1)\r\n    const [data] = useFetch(\r\n        `${detail}/${params.describe}/${params.slug}?page=${currentPage}`)\r\n    const [comics, setComics] = useState([])\r\n    const [totalPage, setTotalPage] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            const totalItems =\r\n                data?.data?.params?.pagination?.totalItems\r\n            const totalItemsPerPage =\r\n                data?.data?.params?.pagination?.totalItemsPerPage\r\n            setComics(data?.data?.items || [])\r\n            totalItems > totalItemsPerPage ?\r\n                setTotalPage(Math.round(totalItems / totalItemsPerPage)) :\r\n                setTotalPage(1)\r\n        }\r\n    }, [data])\r\n\r\n    useEffect(() => {\r\n        setCurrentPage(1)\r\n    }, [params.slug, params.describe])\r\n\r\n    return (\r\n        <Fragment>\r\n            {!data && <h4 className='lg:text-2xl mobile:text-xl font-[600] dark:text-[#fff]'>Đang tải dữ liệu...</h4>}\r\n            {data?.status === 'success' &&\r\n                <Fragment>\r\n                    <h4 className='mb-[32px] text-center lg:text-2xl mobile:text-xl font-[600] text-[#10b981] dark:text-[#fff] p-[8px] rounded-[8px] border-2 border-solid border-[#10b981] dark:border-[#636363] bg-[rgba(16,185,129,0.15)] dark:bg-[rgba(204,204,204,0.2)]'>\r\n                        <i className=\"mr-[8px] fa-solid fa-book-open\"></i>\r\n                        {data?.data?.breadCrumb?.[0]?.name} ({data?.data?.params?.pagination?.totalItems} truyện)\r\n                    </h4>\r\n                    <div className='flex mx-[-8px] flex-wrap gap-y-[24px]'>\r\n                        {comics.map((comic, index) => (\r\n                            <Comic key={index} data={comic} />\r\n                        ))}\r\n                    </div>\r\n\r\n                    <Pagination\r\n                        currentPage={currentPage}\r\n                        totalPage={totalPage}\r\n                        itemsPerPage={width > 786 ? 10 : 3}\r\n                        setCurrentPage={setCurrentPage}\r\n                    />\r\n                </Fragment>}\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Detail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}